name: üîÑ Mirror P√∫blico a P√∫blico

on:
  # Diferentes formas de activar el workflow:
  workflow_dispatch:        # Manual desde GitHub
  push:                     # Autom√°tico al hacer push
    branches: [ main ]
  # schedule:               # Programado (ej: cada d√≠a a las 3 AM)
  #   - cron: '0 3 * * *'

jobs:
  mirror:
    runs-on: ubuntu-latest
    
    steps:
      # PASO 1: Obtener el c√≥digo fuente
      - name: Obtener c√≥digo del repo p√∫blico
        uses: actions/checkout@v4
        with:
          fetch-depth: 0  # Trae todo el historial
          
      # PASO 2: Configurar Git
      - name: Configurar usuario Git
        run: |
          git config --global user.name "GitHub Actions Bot"
          git config --global user.email "actions@github.com"
          
      # PASO 3: Sincronizar
      - name: Sincronizar con repo destino
        run: |
          echo "üîó Origen:  MainMuPubl"
          echo "üéØ Destino: Main.6.3"
          echo "‚è∞ Iniciando: $(date)"
          
          # M√©todo m√°s robusto
          git remote add destino https://github.com/Odisey25/Main.6.3.git
          git push destino main --force
          
          echo "‚úÖ Finalizado: $(date)"